"var Component=(()=>{var h=Object.create;var s=Object.defineProperty;var m=Object.getOwnPropertyDescriptor;var g=Object.getOwnPropertyNames;var u=Object.getPrototypeOf,f=Object.prototype.hasOwnProperty;var y=(t,n)=>()=>(n||t((n={exports:{}}).exports,n),n.exports),P=(t,n)=>{for(var r in n)s(t,r,{get:n[r],enumerable:!0})},i=(t,n,r,c)=>{if(n&&typeof n==\"object\"||typeof n==\"function\")for(let a of g(n))!f.call(t,a)&&a!==r&&s(t,a,{get:()=>n[a],enumerable:!(c=m(n,a))||c.enumerable});return t};var C=(t,n,r)=>(r=t!=null?h(u(t)):{},i(n||!t||!t.__esModule?s(r,\"default\",{value:t,enumerable:!0}):r,t)),w=t=>i(s({},\"__esModule\",{value:!0}),t);var l=y((z,o)=>{o.exports=_jsx_runtime});var b={};P(b,{default:()=>p});var e=C(l());function d(t){let n={code:\"code\",h1:\"h1\",h2:\"h2\",h3:\"h3\",li:\"li\",ol:\"ol\",p:\"p\",pre:\"pre\",strong:\"strong\",ul:\"ul\",...t.components};return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(n.h1,{children:\"Parsers\"}),`\n`,(0,e.jsx)(n.p,{children:\"Parsers extract data from content files. Notpadd Core supports multiple built-in parsers and allows you to define custom parsers.\"}),`\n`,(0,e.jsx)(n.h2,{children:\"Built-in Parsers\"}),`\n`,(0,e.jsxs)(n.h3,{children:[(0,e.jsx)(n.code,{children:\"frontmatter\"}),\" (default)\"]}),`\n`,(0,e.jsx)(n.p,{children:\"Parses YAML frontmatter and extracts both metadata and content:\"}),`\n`,(0,e.jsx)(n.pre,{language:\"typescript\",meta:\"\",code:`\\`\\`\\`typescript\ndefineCollection({\n  name: \"posts\",\n  directory: \"content/posts\",\n  parser: \"frontmatter\",\n  schema: z.object({\n    title: z.string(),\n  }),\n});\n\\`\\`\\``,children:(0,e.jsx)(n.code,{className:\"language-typescript\",children:`defineCollection({\n  name: \"posts\",\n  directory: \"content/posts\",\n  parser: \"frontmatter\",\n  schema: z.object({\n    title: z.string(),\n  }),\n});\n`})}),`\n`,(0,e.jsx)(n.p,{children:(0,e.jsx)(n.strong,{children:\"Input file:\"})}),`\n`,(0,e.jsx)(n.pre,{language:\"markdown\",meta:\"\",code:\"```markdown\\n---\\ntitle: My Post\\n---\\n\\nThis is the content.\\n```\",children:(0,e.jsx)(n.code,{className:\"language-markdown\",children:`---\ntitle: My Post\n---\n\nThis is the content.\n`})}),`\n`,(0,e.jsx)(n.p,{children:(0,e.jsx)(n.strong,{children:\"Result:\"})}),`\n`,(0,e.jsx)(n.pre,{language:\"typescript\",meta:\"\",code:'```typescript\\n{\\n  title: \"My Post\",\\n  content: \"This is the content.\",\\n  _meta: { ... }\\n}\\n```',children:(0,e.jsx)(n.code,{className:\"language-typescript\",children:`{\n  title: \"My Post\",\n  content: \"This is the content.\",\n  _meta: { ... }\n}\n`})}),`\n`,(0,e.jsx)(n.h3,{children:(0,e.jsx)(n.code,{children:\"frontmatter-only\"})}),`\n`,(0,e.jsx)(n.p,{children:\"Parses only the frontmatter, ignoring content:\"}),`\n`,(0,e.jsx)(n.pre,{language:\"typescript\",meta:\"\",code:`\\`\\`\\`typescript\ndefineCollection({\n  name: \"config\",\n  directory: \"content/config\",\n  parser: \"frontmatter-only\",\n  schema: z.object({\n    title: z.string(),\n  }),\n});\n\\`\\`\\``,children:(0,e.jsx)(n.code,{className:\"language-typescript\",children:`defineCollection({\n  name: \"config\",\n  directory: \"content/config\",\n  parser: \"frontmatter-only\",\n  schema: z.object({\n    title: z.string(),\n  }),\n});\n`})}),`\n`,(0,e.jsx)(n.p,{children:(0,e.jsx)(n.strong,{children:\"Input file:\"})}),`\n`,(0,e.jsx)(n.pre,{language:\"markdown\",meta:\"\",code:\"```markdown\\n---\\ntitle: Config\\n---\\n\\nThis content is ignored.\\n```\",children:(0,e.jsx)(n.code,{className:\"language-markdown\",children:`---\ntitle: Config\n---\n\nThis content is ignored.\n`})}),`\n`,(0,e.jsx)(n.p,{children:(0,e.jsx)(n.strong,{children:\"Result:\"})}),`\n`,(0,e.jsx)(n.pre,{language:\"typescript\",meta:\"\",code:'```typescript\\n{\\n  title: \"Config\",\\n  _meta: { ... }\\n}\\n```',children:(0,e.jsx)(n.code,{className:\"language-typescript\",children:`{\n  title: \"Config\",\n  _meta: { ... }\n}\n`})}),`\n`,(0,e.jsx)(n.h3,{children:(0,e.jsx)(n.code,{children:\"json\"})}),`\n`,(0,e.jsx)(n.p,{children:\"Parses JSON files:\"}),`\n`,(0,e.jsx)(n.pre,{language:\"typescript\",meta:\"\",code:`\\`\\`\\`typescript\ndefineCollection({\n  name: \"data\",\n  directory: \"content/data\",\n  parser: \"json\",\n  schema: z.object({\n    name: z.string(),\n    value: z.number(),\n  }),\n});\n\\`\\`\\``,children:(0,e.jsx)(n.code,{className:\"language-typescript\",children:`defineCollection({\n  name: \"data\",\n  directory: \"content/data\",\n  parser: \"json\",\n  schema: z.object({\n    name: z.string(),\n    value: z.number(),\n  }),\n});\n`})}),`\n`,(0,e.jsx)(n.p,{children:(0,e.jsxs)(n.strong,{children:[\"Input file (\",(0,e.jsx)(n.code,{children:\"data.json\"}),\"):\"]})}),`\n`,(0,e.jsx)(n.pre,{language:\"json\",meta:\"\",code:'```json\\n{\\n  \"name\": \"Example\",\\n  \"value\": 42\\n}\\n```',children:(0,e.jsx)(n.code,{className:\"language-json\",children:`{\n  \"name\": \"Example\",\n  \"value\": 42\n}\n`})}),`\n`,(0,e.jsx)(n.p,{children:(0,e.jsx)(n.strong,{children:\"Result:\"})}),`\n`,(0,e.jsx)(n.pre,{language:\"typescript\",meta:\"\",code:'```typescript\\n{\\n  name: \"Example\",\\n  value: 42,\\n  _meta: { ... }\\n}\\n```',children:(0,e.jsx)(n.code,{className:\"language-typescript\",children:`{\n  name: \"Example\",\n  value: 42,\n  _meta: { ... }\n}\n`})}),`\n`,(0,e.jsx)(n.h3,{children:(0,e.jsx)(n.code,{children:\"yaml\"})}),`\n`,(0,e.jsx)(n.p,{children:\"Parses YAML files:\"}),`\n`,(0,e.jsx)(n.pre,{language:\"typescript\",meta:\"\",code:`\\`\\`\\`typescript\ndefineCollection({\n  name: \"settings\",\n  directory: \"content/settings\",\n  parser: \"yaml\",\n  schema: z.object({\n    theme: z.string(),\n    language: z.string(),\n  }),\n});\n\\`\\`\\``,children:(0,e.jsx)(n.code,{className:\"language-typescript\",children:`defineCollection({\n  name: \"settings\",\n  directory: \"content/settings\",\n  parser: \"yaml\",\n  schema: z.object({\n    theme: z.string(),\n    language: z.string(),\n  }),\n});\n`})}),`\n`,(0,e.jsx)(n.p,{children:(0,e.jsxs)(n.strong,{children:[\"Input file (\",(0,e.jsx)(n.code,{children:\"settings.yaml\"}),\"):\"]})}),`\n`,(0,e.jsx)(n.pre,{language:\"yaml\",meta:\"\",code:\"```yaml\\ntheme: dark\\nlanguage: en\\n```\",children:(0,e.jsx)(n.code,{className:\"language-yaml\",children:`theme: dark\nlanguage: en\n`})}),`\n`,(0,e.jsx)(n.p,{children:(0,e.jsx)(n.strong,{children:\"Result:\"})}),`\n`,(0,e.jsx)(n.pre,{language:\"typescript\",meta:\"\",code:'```typescript\\n{\\n  theme: \"dark\",\\n  language: \"en\",\\n  _meta: { ... }\\n}\\n```',children:(0,e.jsx)(n.code,{className:\"language-typescript\",children:`{\n  theme: \"dark\",\n  language: \"en\",\n  _meta: { ... }\n}\n`})}),`\n`,(0,e.jsx)(n.h2,{children:\"Custom Parsers\"}),`\n`,(0,e.jsxs)(n.p,{children:[\"Define your own parser using \",(0,e.jsx)(n.code,{children:\"defineParser()\"}),\":\"]}),`\n`,(0,e.jsx)(n.pre,{language:\"typescript\",meta:\"\",code:`\\`\\`\\`typescript\nimport { defineParser, defineCollection } from \"notpadd-core\";\n\nconst markdownParser = defineParser({\n  hasContent: true,\n  parse: async (content: string) => {\n    // Custom parsing logic\n    const lines = content.split(\"\\\\n\");\n    const title = lines[0].replace(\"#\", \"\").trim();\n    const body = lines.slice(1).join(\"\\\\n\");\n\n    return {\n      title,\n      content: body,\n    };\n  },\n});\n\ndefineCollection({\n  name: \"posts\",\n  directory: \"content/posts\",\n  parser: markdownParser,\n  schema: z.object({\n    title: z.string(),\n  }),\n});\n\\`\\`\\``,children:(0,e.jsx)(n.code,{className:\"language-typescript\",children:`import { defineParser, defineCollection } from \"notpadd-core\";\n\nconst markdownParser = defineParser({\n  hasContent: true,\n  parse: async (content: string) => {\n    // Custom parsing logic\n    const lines = content.split(\"\\\\n\");\n    const title = lines[0].replace(\"#\", \"\").trim();\n    const body = lines.slice(1).join(\"\\\\n\");\n\n    return {\n      title,\n      content: body,\n    };\n  },\n});\n\ndefineCollection({\n  name: \"posts\",\n  directory: \"content/posts\",\n  parser: markdownParser,\n  schema: z.object({\n    title: z.string(),\n  }),\n});\n`})}),`\n`,(0,e.jsx)(n.h3,{children:\"Parser Function\"}),`\n`,(0,e.jsxs)(n.p,{children:[\"You can also define a parser as a simple function (equivalent to \",(0,e.jsx)(n.code,{children:\"hasContent: false\"}),\"):\"]}),`\n`,(0,e.jsx)(n.pre,{language:\"typescript\",meta:\"\",code:`\\`\\`\\`typescript\nimport { defineParser } from \"notpadd-core\";\n\nconst csvParser = defineParser((content: string) => {\n  const lines = content.split(\"\\\\n\");\n  const headers = lines[0].split(\",\");\n  const data = lines.slice(1).map((line) => {\n    const values = line.split(\",\");\n    return headers.reduce((acc, header, i) => {\n      acc[header] = values[i];\n      return acc;\n    }, {} as Record<string, string>);\n  });\n\n  return { rows: data };\n});\n\\`\\`\\``,children:(0,e.jsx)(n.code,{className:\"language-typescript\",children:`import { defineParser } from \"notpadd-core\";\n\nconst csvParser = defineParser((content: string) => {\n  const lines = content.split(\"\\\\n\");\n  const headers = lines[0].split(\",\");\n  const data = lines.slice(1).map((line) => {\n    const values = line.split(\",\");\n    return headers.reduce((acc, header, i) => {\n      acc[header] = values[i];\n      return acc;\n    }, {} as Record<string, string>);\n  });\n\n  return { rows: data };\n});\n`})}),`\n`,(0,e.jsx)(n.h2,{children:\"Parser Properties\"}),`\n`,(0,e.jsx)(n.h3,{children:(0,e.jsx)(n.code,{children:\"hasContent\"})}),`\n`,(0,e.jsx)(n.p,{children:\"Determines whether the parser extracts content:\"}),`\n`,(0,e.jsxs)(n.ul,{children:[`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.code,{children:\"true\"}),\": The parsed result includes a \",(0,e.jsx)(n.code,{children:\"content\"}),\" property\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.code,{children:\"false\"}),\": Only metadata is extracted\"]}),`\n`]}),`\n`,(0,e.jsx)(n.h3,{children:(0,e.jsx)(n.code,{children:\"parse\"})}),`\n`,(0,e.jsx)(n.p,{children:\"The parsing function that receives the file content and returns parsed data:\"}),`\n`,(0,e.jsx)(n.pre,{language:\"typescript\",meta:\"\",code:\"```typescript\\ntype ParseFn = (\\n  content: string,\\n) => Record<string, unknown> | Promise<Record<string, unknown>>;\\n```\",children:(0,e.jsx)(n.code,{className:\"language-typescript\",children:`type ParseFn = (\n  content: string,\n) => Record<string, unknown> | Promise<Record<string, unknown>>;\n`})}),`\n`,(0,e.jsx)(n.h2,{children:\"Parser Selection\"}),`\n`,(0,e.jsx)(n.p,{children:\"The parser is selected based on:\"}),`\n`,(0,e.jsxs)(n.ol,{children:[`\n`,(0,e.jsxs)(n.li,{children:[\"Explicit \",(0,e.jsx)(n.code,{children:\"parser\"}),\" option in collection definition\"]}),`\n`,(0,e.jsxs)(n.li,{children:[\"Default: \",(0,e.jsx)(n.code,{children:'\"frontmatter\"'}),\" if not specified\"]}),`\n`]}),`\n`,(0,e.jsx)(n.h2,{children:\"Content Property\"}),`\n`,(0,e.jsxs)(n.p,{children:[\"When \",(0,e.jsx)(n.code,{children:\"hasContent: true\"}),\", the parser's result must include a \",(0,e.jsx)(n.code,{children:\"content\"}),\" property that is a string. This content is:\"]}),`\n`,(0,e.jsxs)(n.ul,{children:[`\n`,(0,e.jsx)(n.li,{children:\"Validated to be a string\"}),`\n`,(0,e.jsx)(n.li,{children:\"Included in the final document\"}),`\n`,(0,e.jsx)(n.li,{children:\"Available in transform functions\"}),`\n`]}),`\n`,(0,e.jsx)(n.h2,{children:\"Examples\"}),`\n`,(0,e.jsx)(n.h3,{children:\"Markdown with Custom Frontmatter\"}),`\n`,(0,e.jsx)(n.pre,{language:\"typescript\",meta:\"\",code:`\\`\\`\\`typescript\nconst customFrontmatterParser = defineParser({\n  hasContent: true,\n  parse: (content: string) => {\n    const match = content.match(/^---\\\\n([\\\\s\\\\S]*?)\\\\n---\\\\n([\\\\s\\\\S]*)$/);\n    if (!match) {\n      throw new Error(\"Invalid frontmatter format\");\n    }\n\n    const frontmatter = yaml.parse(match[1]);\n    const body = match[2];\n\n    return {\n      ...frontmatter,\n      content: body,\n    };\n  },\n});\n\\`\\`\\``,children:(0,e.jsx)(n.code,{className:\"language-typescript\",children:`const customFrontmatterParser = defineParser({\n  hasContent: true,\n  parse: (content: string) => {\n    const match = content.match(/^---\\\\n([\\\\s\\\\S]*?)\\\\n---\\\\n([\\\\s\\\\S]*)$/);\n    if (!match) {\n      throw new Error(\"Invalid frontmatter format\");\n    }\n\n    const frontmatter = yaml.parse(match[1]);\n    const body = match[2];\n\n    return {\n      ...frontmatter,\n      content: body,\n    };\n  },\n});\n`})}),`\n`,(0,e.jsx)(n.h3,{children:\"TOML Parser\"}),`\n`,(0,e.jsx)(n.pre,{language:\"typescript\",meta:\"\",code:`\\`\\`\\`typescript\nimport { parse as parseToml } from \"@iarna/toml\";\n\nconst tomlParser = defineParser({\n  hasContent: false,\n  parse: (content: string) => {\n    return parseToml(content);\n  },\n});\n\\`\\`\\``,children:(0,e.jsx)(n.code,{className:\"language-typescript\",children:`import { parse as parseToml } from \"@iarna/toml\";\n\nconst tomlParser = defineParser({\n  hasContent: false,\n  parse: (content: string) => {\n    return parseToml(content);\n  },\n});\n`})}),`\n`,(0,e.jsx)(n.h2,{children:\"Best Practices\"}),`\n`,(0,e.jsxs)(n.ol,{children:[`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"Use built-in parsers when possible\"}),\": They're optimized and well-tested\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"Handle errors gracefully\"}),\": Custom parsers should throw descriptive errors\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"Return consistent structures\"}),\": Always return objects with the same shape\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"Consider async parsing\"}),\": Use async functions for expensive parsing operations\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"Validate parsed data\"}),\": Ensure your schema matches what the parser returns\"]}),`\n`]})]})}function p(t={}){let{wrapper:n}=t.components||{};return n?(0,e.jsx)(n,{...t,children:(0,e.jsx)(d,{...t})}):d(t)}return w(b);})();\n;return Component;"