"var Component=(()=>{var u=Object.create;var l=Object.defineProperty;var p=Object.getOwnPropertyDescriptor;var g=Object.getOwnPropertyNames;var f=Object.getPrototypeOf,m=Object.prototype.hasOwnProperty;var b=(r,n)=>()=>(n||r((n={exports:{}}).exports,n),n.exports),w=(r,n)=>{for(var i in n)l(r,i,{get:n[i],enumerable:!0})},o=(r,n,i,t)=>{if(n&&typeof n==\"object\"||typeof n==\"function\")for(let c of g(n))!m.call(r,c)&&c!==i&&l(r,c,{get:()=>n[c],enumerable:!(t=p(n,c))||t.enumerable});return r};var y=(r,n,i)=>(i=r!=null?u(f(r)):{},o(n||!r||!r.__esModule?l(i,\"default\",{value:r,enumerable:!0}):i,r)),B=r=>o(l({},\"__esModule\",{value:!0}),r);var a=b((v,d)=>{d.exports=_jsx_runtime});var P={};w(P,{default:()=>h});var e=y(a());function s(r){let n={code:\"code\",h1:\"h1\",h2:\"h2\",h3:\"h3\",h4:\"h4\",li:\"li\",ol:\"ol\",p:\"p\",pre:\"pre\",strong:\"strong\",ul:\"ul\",...r.components};return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(n.h1,{children:\"Builder\"}),`\n`,(0,e.jsx)(n.p,{children:\"The Builder API provides programmatic access to build and watch your content collections.\"}),`\n`,(0,e.jsx)(n.h2,{children:\"Creating a Builder\"}),`\n`,(0,e.jsx)(n.p,{children:\"Create a builder instance from your configuration file:\"}),`\n`,(0,e.jsx)(n.pre,{language:\"typescript\",meta:\"\",code:'```typescript\\nimport { createBuilder } from \"notpadd-core\";\\n\\nconst builder = await createBuilder(\"./content-collections.ts\");\\n```',children:(0,e.jsx)(n.code,{className:\"language-typescript\",children:`import { createBuilder } from \"notpadd-core\";\n\nconst builder = await createBuilder(\"./content-collections.ts\");\n`})}),`\n`,(0,e.jsx)(n.h2,{children:\"Building\"}),`\n`,(0,e.jsx)(n.p,{children:\"Build all collections:\"}),`\n`,(0,e.jsx)(n.pre,{language:\"typescript\",meta:\"\",code:\"```typescript\\nawait builder.build();\\n```\",children:(0,e.jsx)(n.code,{className:\"language-typescript\",children:`await builder.build();\n`})}),`\n`,(0,e.jsx)(n.p,{children:\"This will:\"}),`\n`,(0,e.jsxs)(n.ol,{children:[`\n`,(0,e.jsx)(n.li,{children:\"Process Notpadd configuration (if provided)\"}),`\n`,(0,e.jsx)(n.li,{children:\"Collect all files from collections\"}),`\n`,(0,e.jsx)(n.li,{children:\"Parse and validate documents\"}),`\n`,(0,e.jsx)(n.li,{children:\"Transform documents\"}),`\n`,(0,e.jsx)(n.li,{children:\"Generate output files\"}),`\n`,(0,e.jsx)(n.li,{children:\"Emit build events\"}),`\n`]}),`\n`,(0,e.jsx)(n.h2,{children:\"Watching\"}),`\n`,(0,e.jsx)(n.p,{children:\"Watch for file changes and rebuild automatically:\"}),`\n`,(0,e.jsx)(n.pre,{language:\"typescript\",meta:\"\",code:\"```typescript\\nconst watcher = await builder.watch();\\n\\n// Later, stop watching\\nawait watcher.unsubscribe();\\n```\",children:(0,e.jsx)(n.code,{className:\"language-typescript\",children:`const watcher = await builder.watch();\n\n// Later, stop watching\nawait watcher.unsubscribe();\n`})}),`\n`,(0,e.jsx)(n.p,{children:\"During watch mode:\"}),`\n`,(0,e.jsxs)(n.ul,{children:[`\n`,(0,e.jsx)(n.li,{children:\"File changes trigger automatic rebuilds\"}),`\n`,(0,e.jsx)(n.li,{children:\"Configuration changes reload the builder\"}),`\n`,(0,e.jsx)(n.li,{children:\"Events are emitted for all changes\"}),`\n`]}),`\n`,(0,e.jsx)(n.h2,{children:\"Events\"}),`\n`,(0,e.jsx)(n.p,{children:\"Listen to builder events:\"}),`\n`,(0,e.jsx)(n.pre,{language:\"typescript\",meta:\"\",code:'```typescript\\nbuilder.on(\"builder:created\", ({ configurationPath, outputDirectory }) => {\\n  console.log(`Builder created for ${configurationPath}`);\\n});\\n\\nbuilder.on(\"build:start\", () => {\\n  console.log(\"Build started\");\\n});\\n\\nbuilder.on(\"build:end\", ({ stats }) => {\\n  console.log(`Build completed: ${stats.collections} collections, ${stats.documents} documents`);\\n});\\n\\nbuilder.on(\"watcher:file-changed\", ({ filePath, modification }) => {\\n  console.log(`File ${modification}: ${filePath}`);\\n});\\n```',children:(0,e.jsx)(n.code,{className:\"language-typescript\",children:`builder.on(\"builder:created\", ({ configurationPath, outputDirectory }) => {\n  console.log(\\`Builder created for \\${configurationPath}\\`);\n});\n\nbuilder.on(\"build:start\", () => {\n  console.log(\"Build started\");\n});\n\nbuilder.on(\"build:end\", ({ stats }) => {\n  console.log(\\`Build completed: \\${stats.collections} collections, \\${stats.documents} documents\\`);\n});\n\nbuilder.on(\"watcher:file-changed\", ({ filePath, modification }) => {\n  console.log(\\`File \\${modification}: \\${filePath}\\`);\n});\n`})}),`\n`,(0,e.jsx)(n.h3,{children:\"Available Events\"}),`\n`,(0,e.jsx)(n.h4,{children:\"Builder Events\"}),`\n`,(0,e.jsxs)(n.ul,{children:[`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.code,{children:\"builder:created\"}),\": Emitted when builder is created\",`\n`,(0,e.jsxs)(n.ul,{children:[`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.code,{children:\"createdAt\"}),\": Timestamp\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.code,{children:\"configurationPath\"}),\": Path to config file\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.code,{children:\"outputDirectory\"}),\": Output directory path\"]}),`\n`]}),`\n`]}),`\n`]}),`\n`,(0,e.jsx)(n.h4,{children:\"Build Events\"}),`\n`,(0,e.jsxs)(n.ul,{children:[`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.code,{children:\"build:start\"}),\": Build process started\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.code,{children:\"build:end\"}),\": Build process completed\",`\n`,(0,e.jsxs)(n.ul,{children:[`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.code,{children:\"stats\"}),\": Build statistics\",`\n`,(0,e.jsxs)(n.ul,{children:[`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.code,{children:\"collections\"}),\": Number of collections\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.code,{children:\"documents\"}),\": Number of documents\"]}),`\n`]}),`\n`]}),`\n`]}),`\n`]}),`\n`]}),`\n`,(0,e.jsx)(n.h4,{children:\"Watcher Events\"}),`\n`,(0,e.jsxs)(n.ul,{children:[`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.code,{children:\"watcher:file-changed\"}),\": A content file changed\",`\n`,(0,e.jsxs)(n.ul,{children:[`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.code,{children:\"filePath\"}),\": Path to changed file\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.code,{children:\"modification\"}),\": \",(0,e.jsx)(n.code,{children:'\"create\"'}),\" | \",(0,e.jsx)(n.code,{children:'\"update\"'}),\" | \",(0,e.jsx)(n.code,{children:'\"delete\"'})]}),`\n`]}),`\n`]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.code,{children:\"watcher:config-changed\"}),\": Configuration file changed\",`\n`,(0,e.jsxs)(n.ul,{children:[`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.code,{children:\"filePath\"}),\": Path to config file\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.code,{children:\"modification\"}),\": \",(0,e.jsx)(n.code,{children:'\"create\"'}),\" | \",(0,e.jsx)(n.code,{children:'\"update\"'}),\" | \",(0,e.jsx)(n.code,{children:'\"delete\"'})]}),`\n`]}),`\n`]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.code,{children:\"watcher:config-reload-error\"}),\": Error reloading configuration\",`\n`,(0,e.jsxs)(n.ul,{children:[`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.code,{children:\"error\"}),\": Error object\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.code,{children:\"configurationPath\"}),\": Path to config file\"]}),`\n`]}),`\n`]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.code,{children:\"watcher:subscribed\"}),\": Watcher started watching\",`\n`,(0,e.jsxs)(n.ul,{children:[`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.code,{children:\"paths\"}),\": Array of watched paths\"]}),`\n`]}),`\n`]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.code,{children:\"watcher:unsubscribed\"}),\": Watcher stopped watching\",`\n`,(0,e.jsxs)(n.ul,{children:[`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.code,{children:\"paths\"}),\": Array of watched paths\"]}),`\n`]}),`\n`]}),`\n`]}),`\n`,(0,e.jsx)(n.h4,{children:\"Collector Events\"}),`\n`,(0,e.jsxs)(n.ul,{children:[`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.code,{children:\"collector:read-error\"}),\": Error reading a file\",`\n`,(0,e.jsxs)(n.ul,{children:[`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.code,{children:\"filePath\"}),\": Path to file\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.code,{children:\"error\"}),\": CollectError\"]}),`\n`]}),`\n`]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.code,{children:\"collector:parse-error\"}),\": Error parsing a file\",`\n`,(0,e.jsxs)(n.ul,{children:[`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.code,{children:\"filePath\"}),\": Path to file\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.code,{children:\"error\"}),\": CollectError\"]}),`\n`]}),`\n`]}),`\n`]}),`\n`,(0,e.jsx)(n.h4,{children:\"Transformer Events\"}),`\n`,(0,e.jsxs)(n.ul,{children:[`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.code,{children:\"transformer:validation-error\"}),\": Schema validation failed\",`\n`,(0,e.jsxs)(n.ul,{children:[`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.code,{children:\"collection\"}),\": Collection object\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.code,{children:\"file\"}),\": File object\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.code,{children:\"error\"}),\": TransformError\"]}),`\n`]}),`\n`]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.code,{children:\"transformer:result-error\"}),\": Transform result validation failed\",`\n`,(0,e.jsxs)(n.ul,{children:[`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.code,{children:\"collection\"}),\": Collection object\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.code,{children:\"document\"}),\": Document object\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.code,{children:\"error\"}),\": TransformError\"]}),`\n`]}),`\n`]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.code,{children:\"transformer:error\"}),\": Error during transformation\",`\n`,(0,e.jsxs)(n.ul,{children:[`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.code,{children:\"collection\"}),\": Collection object\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.code,{children:\"error\"}),\": TransformError\"]}),`\n`]}),`\n`]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.code,{children:\"transformer:document-skipped\"}),\": Document was skipped\",`\n`,(0,e.jsxs)(n.ul,{children:[`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.code,{children:\"collection\"}),\": Collection object\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.code,{children:\"filePath\"}),\": Path to file\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.code,{children:\"reason\"}),\": Optional skip reason\"]}),`\n`]}),`\n`]}),`\n`]}),`\n`,(0,e.jsx)(n.h2,{children:\"Manual Sync\"}),`\n`,(0,e.jsx)(n.p,{children:\"Manually sync a file change:\"}),`\n`,(0,e.jsx)(n.pre,{language:\"typescript\",meta:\"\",code:'```typescript\\nawait builder.sync(\"create\", \"./content/posts/new-post.mdx\");\\nawait builder.sync(\"update\", \"./content/posts/existing-post.mdx\");\\nawait builder.sync(\"delete\", \"./content/posts/old-post.mdx\");\\n```',children:(0,e.jsx)(n.code,{className:\"language-typescript\",children:`await builder.sync(\"create\", \"./content/posts/new-post.mdx\");\nawait builder.sync(\"update\", \"./content/posts/existing-post.mdx\");\nawait builder.sync(\"delete\", \"./content/posts/old-post.mdx\");\n`})}),`\n`,(0,e.jsx)(n.h2,{children:\"Options\"}),`\n`,(0,e.jsx)(n.h3,{children:\"Output Directory\"}),`\n`,(0,e.jsx)(n.p,{children:\"Specify a custom output directory:\"}),`\n`,(0,e.jsx)(n.pre,{language:\"typescript\",meta:\"\",code:'```typescript\\nconst builder = await createBuilder(\"./content-collections.ts\", {\\n  outputDir: \"./.custom-output\",\\n});\\n```',children:(0,e.jsx)(n.code,{className:\"language-typescript\",children:`const builder = await createBuilder(\"./content-collections.ts\", {\n  outputDir: \"./.custom-output\",\n});\n`})}),`\n`,(0,e.jsxs)(n.p,{children:[\"Default: \",(0,e.jsx)(n.code,{children:\"./.content-collections/generated\"})]}),`\n`,(0,e.jsx)(n.h3,{children:\"Configuration Name\"}),`\n`,(0,e.jsx)(n.p,{children:\"Specify a custom config file name:\"}),`\n`,(0,e.jsx)(n.pre,{language:\"typescript\",meta:\"\",code:'```typescript\\nconst builder = await createBuilder(\"./content-collections.ts\", {\\n  configName: \"content.config.ts\",\\n});\\n```',children:(0,e.jsx)(n.code,{className:\"language-typescript\",children:`const builder = await createBuilder(\"./content-collections.ts\", {\n  configName: \"content.config.ts\",\n});\n`})}),`\n`,(0,e.jsxs)(n.p,{children:[\"Default: \",(0,e.jsx)(n.code,{children:\"content-collections.ts\"})]}),`\n`,(0,e.jsx)(n.h2,{children:\"Example: CLI Tool\"}),`\n`,(0,e.jsx)(n.pre,{language:\"typescript\",meta:\"\",code:`\\`\\`\\`typescript\nimport { createBuilder } from \"notpadd-core\";\n\nasync function main() {\n  const builder = await createBuilder(\"./content-collections.ts\");\n\n  // Set up event listeners\n  builder.on(\"build:start\", () => {\n    console.log(\"Building collections...\");\n  });\n\n  builder.on(\"build:end\", ({ stats }) => {\n    console.log(\\`\\u2713 Built \\${stats.collections} collections with \\${stats.documents} documents\\`);\n  });\n\n  builder.on(\"watcher:file-changed\", ({ filePath, modification }) => {\n    console.log(\\`File \\${modification}: \\${filePath}\\`);\n  });\n\n  // Build once\n  await builder.build();\n\n  // Watch for changes\n  if (process.argv.includes(\"--watch\")) {\n    const watcher = await builder.watch();\n    console.log(\"Watching for changes...\");\n\n    // Graceful shutdown\n    process.on(\"SIGINT\", async () => {\n      await watcher.unsubscribe();\n      process.exit(0);\n    });\n  }\n}\n\nmain().catch(console.error);\n\\`\\`\\``,children:(0,e.jsx)(n.code,{className:\"language-typescript\",children:`import { createBuilder } from \"notpadd-core\";\n\nasync function main() {\n  const builder = await createBuilder(\"./content-collections.ts\");\n\n  // Set up event listeners\n  builder.on(\"build:start\", () => {\n    console.log(\"Building collections...\");\n  });\n\n  builder.on(\"build:end\", ({ stats }) => {\n    console.log(\\`\\u2713 Built \\${stats.collections} collections with \\${stats.documents} documents\\`);\n  });\n\n  builder.on(\"watcher:file-changed\", ({ filePath, modification }) => {\n    console.log(\\`File \\${modification}: \\${filePath}\\`);\n  });\n\n  // Build once\n  await builder.build();\n\n  // Watch for changes\n  if (process.argv.includes(\"--watch\")) {\n    const watcher = await builder.watch();\n    console.log(\"Watching for changes...\");\n\n    // Graceful shutdown\n    process.on(\"SIGINT\", async () => {\n      await watcher.unsubscribe();\n      process.exit(0);\n    });\n  }\n}\n\nmain().catch(console.error);\n`})}),`\n`,(0,e.jsx)(n.h2,{children:\"Error Handling\"}),`\n`,(0,e.jsx)(n.p,{children:\"Builder methods can throw errors:\"}),`\n`,(0,e.jsx)(n.pre,{language:\"typescript\",meta:\"\",code:`\\`\\`\\`typescript\ntry {\n  const builder = await createBuilder(\"./content-collections.ts\");\n  await builder.build();\n} catch (error) {\n  if (error instanceof ConfigurationError) {\n    console.error(\"Configuration error:\", error.message);\n  } else if (error instanceof NotpaddError) {\n    console.error(\"Notpadd error:\", error.message);\n  } else {\n    console.error(\"Unknown error:\", error);\n  }\n}\n\\`\\`\\``,children:(0,e.jsx)(n.code,{className:\"language-typescript\",children:`try {\n  const builder = await createBuilder(\"./content-collections.ts\");\n  await builder.build();\n} catch (error) {\n  if (error instanceof ConfigurationError) {\n    console.error(\"Configuration error:\", error.message);\n  } else if (error instanceof NotpaddError) {\n    console.error(\"Notpadd error:\", error.message);\n  } else {\n    console.error(\"Unknown error:\", error);\n  }\n}\n`})}),`\n`,(0,e.jsx)(n.h2,{children:\"Best Practices\"}),`\n`,(0,e.jsxs)(n.ol,{children:[`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"Handle errors\"}),\": Wrap builder operations in try-catch\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"Listen to events\"}),\": Use events for logging and monitoring\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"Clean up watchers\"}),\": Always unsubscribe from watchers when done\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"Use output directory\"}),\": Specify a custom output directory if needed\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"Build before watch\"}),\": Build once before starting watch mode\"]}),`\n`]})]})}function h(r={}){let{wrapper:n}=r.components||{};return n?(0,e.jsx)(n,{...r,children:(0,e.jsx)(s,{...r})}):s(r)}return B(P);})();\n;return Component;"