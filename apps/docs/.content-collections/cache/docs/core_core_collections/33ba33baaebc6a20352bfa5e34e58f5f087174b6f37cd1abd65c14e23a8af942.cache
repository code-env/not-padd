"var Component=(()=>{var p=Object.create;var r=Object.defineProperty;var u=Object.getOwnPropertyDescriptor;var m=Object.getOwnPropertyNames;var f=Object.getPrototypeOf,y=Object.prototype.hasOwnProperty;var g=(t,n)=>()=>(n||t((n={exports:{}}).exports,n),n.exports),C=(t,n)=>{for(var c in n)r(t,c,{get:n[c],enumerable:!0})},s=(t,n,c,i)=>{if(n&&typeof n==\"object\"||typeof n==\"function\")for(let o of m(n))!y.call(t,o)&&o!==c&&r(t,o,{get:()=>n[o],enumerable:!(i=u(n,o))||i.enumerable});return t};var x=(t,n,c)=>(c=t!=null?p(f(t)):{},s(n||!t||!t.__esModule?r(c,\"default\",{value:t,enumerable:!0}):c,t)),z=t=>s(r({},\"__esModule\",{value:!0}),t);var d=g((N,l)=>{l.exports=_jsx_runtime});var j={};C(j,{default:()=>h});var e=x(d());function a(t){let n={code:\"code\",h1:\"h1\",h2:\"h2\",h3:\"h3\",li:\"li\",p:\"p\",pre:\"pre\",ul:\"ul\",...t.components};return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(n.h1,{children:\"Collections\"}),`\n`,(0,e.jsx)(n.p,{children:\"Collections are groups of content files that share a common schema and configuration.\"}),`\n`,(0,e.jsx)(n.h2,{children:\"Defining Collections\"}),`\n`,(0,e.jsxs)(n.p,{children:[\"Use \",(0,e.jsx)(n.code,{children:\"defineCollection()\"}),\" to create a collection:\"]}),`\n`,(0,e.jsx)(n.pre,{language:\"typescript\",meta:\"\",code:`\\`\\`\\`typescript\nimport { defineCollection } from \"notpadd-core\";\nimport { z } from \"zod\";\n\nconst posts = defineCollection({\n  name: \"posts\",\n  directory: \"content/posts\",\n  schema: z.object({\n    title: z.string(),\n    description: z.string(),\n  }),\n});\n\\`\\`\\``,children:(0,e.jsx)(n.code,{className:\"language-typescript\",children:`import { defineCollection } from \"notpadd-core\";\nimport { z } from \"zod\";\n\nconst posts = defineCollection({\n  name: \"posts\",\n  directory: \"content/posts\",\n  schema: z.object({\n    title: z.string(),\n    description: z.string(),\n  }),\n});\n`})}),`\n`,(0,e.jsx)(n.h2,{children:\"Collection Options\"}),`\n`,(0,e.jsxs)(n.h3,{children:[(0,e.jsx)(n.code,{children:\"name\"}),\" (required)\"]}),`\n`,(0,e.jsx)(n.p,{children:\"A unique name for the collection. This is used for:\"}),`\n`,(0,e.jsxs)(n.ul,{children:[`\n`,(0,e.jsx)(n.li,{children:\"Type generation\"}),`\n`,(0,e.jsx)(n.li,{children:\"Accessing collections in transform functions\"}),`\n`,(0,e.jsx)(n.li,{children:\"Generated file paths\"}),`\n`]}),`\n`,(0,e.jsxs)(n.h3,{children:[(0,e.jsx)(n.code,{children:\"directory\"}),\" (required)\"]}),`\n`,(0,e.jsx)(n.p,{children:\"The directory path relative to your project root where content files are located.\"}),`\n`,(0,e.jsxs)(n.h3,{children:[(0,e.jsx)(n.code,{children:\"schema\"}),\" (required)\"]}),`\n`,(0,e.jsx)(n.p,{children:\"A Zod schema that defines the structure of your content metadata. The schema validates:\"}),`\n`,(0,e.jsxs)(n.ul,{children:[`\n`,(0,e.jsx)(n.li,{children:\"Frontmatter data (for frontmatter parser)\"}),`\n`,(0,e.jsx)(n.li,{children:\"File data (for JSON/YAML parsers)\"}),`\n`,(0,e.jsx)(n.li,{children:\"The final document structure\"}),`\n`]}),`\n`,(0,e.jsxs)(n.h3,{children:[(0,e.jsx)(n.code,{children:\"parser\"}),\" (optional)\"]}),`\n`,(0,e.jsx)(n.p,{children:\"The parser to use for reading files:\"}),`\n`,(0,e.jsxs)(n.ul,{children:[`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.code,{children:'\"frontmatter\"'}),\": Parse YAML frontmatter with content (default)\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.code,{children:'\"frontmatter-only\"'}),\": Parse only frontmatter, no content\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.code,{children:'\"json\"'}),\": Parse JSON files\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.code,{children:'\"yaml\"'}),\": Parse YAML files\"]}),`\n`,(0,e.jsx)(n.li,{children:\"Custom parser: Define your own\"}),`\n`]}),`\n`,(0,e.jsx)(n.pre,{language:\"typescript\",meta:\"\",code:`\\`\\`\\`typescript\ndefineCollection({\n  name: \"data\",\n  directory: \"content/data\",\n  parser: \"json\",\n  schema: z.object({\n    // ...\n  }),\n});\n\\`\\`\\``,children:(0,e.jsx)(n.code,{className:\"language-typescript\",children:`defineCollection({\n  name: \"data\",\n  directory: \"content/data\",\n  parser: \"json\",\n  schema: z.object({\n    // ...\n  }),\n});\n`})}),`\n`,(0,e.jsxs)(n.h3,{children:[(0,e.jsx)(n.code,{children:\"include\"}),\" (required)\"]}),`\n`,(0,e.jsx)(n.p,{children:\"Glob patterns for files to include in the collection:\"}),`\n`,(0,e.jsx)(n.pre,{language:\"typescript\",meta:\"\",code:`\\`\\`\\`typescript\ndefineCollection({\n  name: \"posts\",\n  directory: \"content/posts\",\n  include: \"**/*.mdx\", // Single pattern\n  // or\n  include: [\"**/*.mdx\", \"**/*.md\"], // Multiple patterns\n  schema: z.object({\n    // ...\n  }),\n});\n\\`\\`\\``,children:(0,e.jsx)(n.code,{className:\"language-typescript\",children:`defineCollection({\n  name: \"posts\",\n  directory: \"content/posts\",\n  include: \"**/*.mdx\", // Single pattern\n  // or\n  include: [\"**/*.mdx\", \"**/*.md\"], // Multiple patterns\n  schema: z.object({\n    // ...\n  }),\n});\n`})}),`\n`,(0,e.jsxs)(n.h3,{children:[(0,e.jsx)(n.code,{children:\"exclude\"}),\" (optional)\"]}),`\n`,(0,e.jsx)(n.p,{children:\"Glob patterns for files to exclude:\"}),`\n`,(0,e.jsx)(n.pre,{language:\"typescript\",meta:\"\",code:`\\`\\`\\`typescript\ndefineCollection({\n  name: \"posts\",\n  directory: \"content/posts\",\n  include: \"**/*.mdx\",\n  exclude: [\"**/drafts/**\", \"**/*.draft.mdx\"],\n  schema: z.object({\n    // ...\n  }),\n});\n\\`\\`\\``,children:(0,e.jsx)(n.code,{className:\"language-typescript\",children:`defineCollection({\n  name: \"posts\",\n  directory: \"content/posts\",\n  include: \"**/*.mdx\",\n  exclude: [\"**/drafts/**\", \"**/*.draft.mdx\"],\n  schema: z.object({\n    // ...\n  }),\n});\n`})}),`\n`,(0,e.jsxs)(n.h3,{children:[(0,e.jsx)(n.code,{children:\"transform\"}),\" (optional)\"]}),`\n`,(0,e.jsx)(n.p,{children:\"A function to transform documents after parsing:\"}),`\n`,(0,e.jsx)(n.pre,{language:\"typescript\",meta:\"\",code:`\\`\\`\\`typescript\ndefineCollection({\n  name: \"posts\",\n  directory: \"content/posts\",\n  schema: z.object({\n    title: z.string(),\n    authorId: z.string(),\n  }),\n  transform: async (doc, { documents, cache }) => {\n    // Access other collections\n    const authors = documents(\"authors\");\n    const author = authors.find((a) => a.id === doc.authorId);\n\n    // Use cache for expensive operations\n    const processedContent = await cache(\n      \"process-content\",\n      doc.content,\n      async () => {\n        return expensiveProcessing(doc.content);\n      }\n    );\n\n    return {\n      ...doc,\n      author,\n      processedContent,\n    };\n  },\n});\n\\`\\`\\``,children:(0,e.jsx)(n.code,{className:\"language-typescript\",children:`defineCollection({\n  name: \"posts\",\n  directory: \"content/posts\",\n  schema: z.object({\n    title: z.string(),\n    authorId: z.string(),\n  }),\n  transform: async (doc, { documents, cache }) => {\n    // Access other collections\n    const authors = documents(\"authors\");\n    const author = authors.find((a) => a.id === doc.authorId);\n\n    // Use cache for expensive operations\n    const processedContent = await cache(\n      \"process-content\",\n      doc.content,\n      async () => {\n        return expensiveProcessing(doc.content);\n      }\n    );\n\n    return {\n      ...doc,\n      author,\n      processedContent,\n    };\n  },\n});\n`})}),`\n`,(0,e.jsxs)(n.h3,{children:[(0,e.jsx)(n.code,{children:\"onSuccess\"}),\" (optional)\"]}),`\n`,(0,e.jsx)(n.p,{children:\"A callback function called after all documents are successfully processed:\"}),`\n`,(0,e.jsx)(n.pre,{language:\"typescript\",meta:\"\",code:`\\`\\`\\`typescript\ndefineCollection({\n  name: \"posts\",\n  directory: \"content/posts\",\n  schema: z.object({\n    // ...\n  }),\n  onSuccess: async (documents) => {\n    console.log(\\`Processed \\${documents.length} posts\\`);\n  },\n});\n\\`\\`\\``,children:(0,e.jsx)(n.code,{className:\"language-typescript\",children:`defineCollection({\n  name: \"posts\",\n  directory: \"content/posts\",\n  schema: z.object({\n    // ...\n  }),\n  onSuccess: async (documents) => {\n    console.log(\\`Processed \\${documents.length} posts\\`);\n  },\n});\n`})}),`\n`,(0,e.jsx)(n.h2,{children:\"Document Structure\"}),`\n`,(0,e.jsx)(n.p,{children:\"Each document in a collection includes:\"}),`\n`,(0,e.jsxs)(n.ul,{children:[`\n`,(0,e.jsx)(n.li,{children:\"All fields from your schema\"}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.code,{children:\"content\"}),\": The file content (if parser has \",(0,e.jsx)(n.code,{children:\"hasContent: true\"}),\")\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.code,{children:\"_meta\"}),\": Metadata about the file:\",`\n`,(0,e.jsxs)(n.ul,{children:[`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.code,{children:\"filePath\"}),\": Full path to the file\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.code,{children:\"fileName\"}),\": Just the filename\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.code,{children:\"directory\"}),\": Directory containing the file\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.code,{children:\"path\"}),\": URL-friendly path (without extension)\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.code,{children:\"extension\"}),\": File extension\"]}),`\n`]}),`\n`]}),`\n`]}),`\n`,(0,e.jsx)(n.h2,{children:\"Accessing Collections\"}),`\n`,(0,e.jsx)(n.p,{children:\"In transform functions, you can access other collections:\"}),`\n`,(0,e.jsx)(n.pre,{language:\"typescript\",meta:\"\",code:`\\`\\`\\`typescript\ntransform: async (doc, { documents }) => {\n  // Get all documents from another collection\n  const authors = documents(\"authors\");\n\n  // Find a specific author\n  const author = authors.find((a) => a.id === doc.authorId);\n\n  return {\n    ...doc,\n    author,\n  };\n},\n\\`\\`\\``,children:(0,e.jsx)(n.code,{className:\"language-typescript\",children:`transform: async (doc, { documents }) => {\n  // Get all documents from another collection\n  const authors = documents(\"authors\");\n\n  // Find a specific author\n  const author = authors.find((a) => a.id === doc.authorId);\n\n  return {\n    ...doc,\n    author,\n  };\n},\n`})}),`\n`,(0,e.jsx)(n.h2,{children:\"Skipping Documents\"}),`\n`,(0,e.jsx)(n.p,{children:\"You can conditionally skip documents in transform functions:\"}),`\n`,(0,e.jsx)(n.pre,{language:\"typescript\",meta:\"\",code:`\\`\\`\\`typescript\ntransform: async (doc, { skip }) => {\n  if (!doc.published) {\n    return skip(\"Document is not published\");\n  }\n\n  return doc;\n},\n\\`\\`\\``,children:(0,e.jsx)(n.code,{className:\"language-typescript\",children:`transform: async (doc, { skip }) => {\n  if (!doc.published) {\n    return skip(\"Document is not published\");\n  }\n\n  return doc;\n},\n`})}),`\n`,(0,e.jsx)(n.h2,{children:\"Type Generation\"}),`\n`,(0,e.jsxs)(n.p,{children:[\"Collections automatically generate TypeScript types. Access them using \",(0,e.jsx)(n.code,{children:\"GetTypeByName\"}),\":\"]}),`\n`,(0,e.jsx)(n.pre,{language:\"typescript\",meta:\"\",code:'```typescript\\nimport type { GetTypeByName } from \"notpadd-core\";\\nimport config from \"./content-collections\";\\n\\ntype Post = GetTypeByName<typeof config, \"posts\">;\\n```',children:(0,e.jsx)(n.code,{className:\"language-typescript\",children:`import type { GetTypeByName } from \"notpadd-core\";\nimport config from \"./content-collections\";\n\ntype Post = GetTypeByName<typeof config, \"posts\">;\n`})})]})}function h(t={}){let{wrapper:n}=t.components||{};return n?(0,e.jsx)(n,{...t,children:(0,e.jsx)(a,{...t})}):a(t)}return z(j);})();\n;return Component;"